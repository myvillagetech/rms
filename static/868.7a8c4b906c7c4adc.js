"use strict";(self.webpackChunkrequest_management_app=self.webpackChunkrequest_management_app||[]).push([[868],{1868:(I,p,r)=>{r.r(p),r.d(p,{HomeModule:()=>P});var u=r(6895),s=r(3060),e=r(4650),i=r(4006),g=r(5805),c=r(9484),m=r(6936),d=r(9307);let f=(()=>{class t{constructor(n){this.httpDataService=n}login(n){return this.httpDataService.post("auth/login",n)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(d.L))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=r(3440),h=r(996);function S(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," please provide valid mail Id "),e.qZA())}function C(t,a){if(1&t&&(e.TgZ(0,"span"),e.YNc(1,S,2,0,"span",7),e.qZA()),2&t){const n=e.oxw(2);let o;e.xp6(1),e.Q6J("ngIf",null==n.loginForm||null==(o=n.loginForm.get("email"))?null:o.errors)}}function F(t,a){if(1&t&&(e.TgZ(0,"span"),e.YNc(1,C,2,1,"span",7),e.qZA()),2&t){const n=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",(null==n.loginForm||null==(o=n.loginForm.get("email"))?null:o.invalid)&&(null==n.loginForm||null==(o=n.loginForm.get("email"))?null:o.touched)||(null==n.loginForm||null==(o=n.loginForm.get("email"))?null:o.dirty))}}let T=(()=>{class t{constructor(n,o,l,L,x){this.formBuilder=n,this.loginService=o,this.storageService=l,this.router=L,this.alertPopupService=x,this.hide=!0}loginFormDetails(){this.loginForm=this.formBuilder.group({email:["",[i.kI.required,i.kI.pattern(g.u.EmailPattern)]],password:["",[i.kI.required,i.kI.pattern(g.u.PasswordPattern)]]})}ngOnInit(){this.loginFormDetails()}onSubmit(){this.loginService.login(this.loginForm.value).subscribe(n=>{this.alertPopupService.open({message:n.message?n.message:"user looged in successfully",action:"ok"}),this.storageService.clearLocalStorage(),this.storageService.setDataToLocalStorage(m.I.ACCESS_TOKEN,n?.result?.accessToken),this.storageService.setDataToLocalStorage(m.I.ROLE,n?.result?.role[0]),this.storageService.setDataToLocalStorage(m.I.USER_ID,n?.result?.userId),this.router.navigate([c.p.DASHBOARD])},n=>{this.alertPopupService.open({message:n.message?n.message:"something went wrong!",action:"ok"})})}navigateToSinup(){this.router.navigate([c.p.SIGNUP_PAGE])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(i.qu),e.Y36(f),e.Y36(v.V),e.Y36(s.F0),e.Y36(h.x))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login-page"]],decls:19,vars:3,consts:[[1,"parent","card","my-3"],[1,"text-center","my-2","app-title"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"col-12","mb-3"],["for","email",1,"form-label"],["type","email","formControlName","email","id","email","placeholder","name@example.com",1,"form-control"],[4,"ngIf"],["for","password",1,"form-label"],["type","password","formControlName","password","id","password","placeholder","Enter password",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-primary","btn-theme","mx-1",3,"disabled"],[1,"btn","btn-primary","btn-theme",3,"click"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Request Managenet System"),e.qZA(),e.TgZ(3,"div",2)(4,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(5,"div",4)(6,"label",5),e._uU(7,"Email address"),e.qZA(),e._UZ(8,"input",6),e.YNc(9,F,2,1,"span",7),e.qZA(),e.TgZ(10,"div",4)(11,"label",8),e._uU(12,"Password"),e.qZA(),e._UZ(13,"input",9),e.qZA(),e.TgZ(14,"div",10)(15,"button",11),e._uU(16," Sign In "),e.qZA(),e.TgZ(17,"button",12),e.NdJ("click",function(){return o.navigateToSinup()}),e._uU(18,"Sign Up"),e.qZA()()()()()),2&n){let l;e.xp6(4),e.Q6J("formGroup",o.loginForm),e.xp6(5),e.Q6J("ngIf",null==o.loginForm||null==(l=o.loginForm.get("email"))?null:l.errors),e.xp6(6),e.Q6J("disabled",o.loginForm.invalid)}},dependencies:[u.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".parent[_ngcontent-%COMP%]{margin:auto;width:50%;max-width:500px;min-width:500px}.parent[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:20px;box-shadow:0 0 30px #d6dcd899}"]}),t})();const Z=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-home"]],decls:1,vars:0,template:function(n,o){1&n&&e._UZ(0,"app-login-page")},dependencies:[T]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[s.Bz.forChild(Z),s.Bz]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,y]}),t})()}}]);